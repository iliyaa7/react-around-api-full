(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{17:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(18),s=n.n(i),r=(n(17),n(21)),c=n(2),l=n(3),u=n.p+"static/media/Logo.c7581985.svg",p=n(6),f=n(0);var A=function(e){return Object(f.jsxs)("header",{className:"header",children:[Object(f.jsx)("img",{src:u,id:"logo-image",alt:"Our logo",className:"header__logo"}),e.isLoggedIn&&Object(f.jsx)("p",{className:"header__user-email",children:e.userEmail}),e.isLoggedIn&&Object(f.jsx)("button",{onClick:e.handleLogOut,className:"header__button header__button_logged-in",children:"Log out"}),e.buttonTitle&&Object(f.jsx)(p.b,{to:e.buttonPath,children:Object(f.jsx)("button",{type:"button",className:"header__button",children:e.buttonTitle})})]})},d=n.p+"static/media/batton-prof_edit.6c7bf054.svg",b=n.p+"static/media/batton-plus.bed8c136.svg",j=n(10),h=n(11),m=function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(e)}))},v=new(function(){function e(t){var n=t.baseUrl;Object(j.a)(this,e),this._baseUrl=n}return Object(h.a)(e,[{key:"getUserInfo",value:function(e){return m("".concat(this._baseUrl,"/users/me"),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})}},{key:"getCards",value:function(e){return m("".concat(this._baseUrl,"/cards"),{headers:{authorization:"Bearer ".concat(e),"Content-Type":"application/json"}})}},{key:"editUserInfo",value:function(e,t){return m("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)})}},{key:"addPostCard",value:function(e,t){return m("".concat(this._baseUrl,"/cards"),{method:"POST",headers:{authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)})}},{key:"changeLikeCardStatus",value:function(e,t,n){return m("".concat(this._baseUrl,"/cards/").concat(e,"/likes"),t?{method:"DELETE",headers:{authorization:"Bearer ".concat(n),"Content-Type":"application/json"}}:{method:"PUT",headers:{authorization:"Bearer ".concat(n),"Content-Type":"application/json"}})}},{key:"deleteCard",value:function(e,t){return m("".concat(this._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:{authorization:"Bearer ".concat(t),"Content-Type":"application/json"}})}},{key:"editAvatar",value:function(e,t){return m("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:"Bearer ".concat(t),"Content-Type":"application/json"},body:JSON.stringify(e)})}}]),e}())({baseUrl:"https://api.iliyaa7.students.nomoreparties.sbs"}),g=o.a.createContext();var x=function(e){var t=o.a.useContext(g),n=e.card.owner===t._id,a="".concat(n?"post__delete-button":"post__delete-button post__delete-button_hiden"),i=e.card.likes.some((function(e){return e===t._id})),s="".concat(i?"post__button post__button_active":"post__button");return Object(f.jsxs)("div",{className:"post",children:[Object(f.jsx)("button",{className:a,onClick:function(){e.onCardDelete(e.card._id)}}),Object(f.jsx)("button",{onClick:function(){e.onCardClick(e.card)},className:"post__image-button",id:"image__button",children:Object(f.jsx)("img",{src:e.card.link,alt:"A pic of ".concat(e.card.name),className:"post__image",id:"image__button-image"})}),Object(f.jsxs)("div",{className:"post__bottom-container",children:[Object(f.jsx)("h2",{className:"post__heading",children:e.card.name}),Object(f.jsxs)("div",{className:"post__like-container",children:[Object(f.jsx)("button",{type:"button",className:s,onClick:function(){e.onCardLike(e.card)}}),Object(f.jsx)("p",{className:"post__like-counter",children:e.card.likes.length})]})]})]})},O=o.a.createContext();var C=function(e){var t=o.a.useContext(O),n=o.a.useContext(g);return Object(f.jsxs)("main",{className:"content",children:[Object(f.jsxs)("section",{className:"profile",children:[Object(f.jsxs)("div",{className:"profile__images-container",children:[Object(f.jsx)("img",{src:n.avatar,id:"profile-image",alt:"Your profile photo",className:"profile__image"}),Object(f.jsx)("button",{onClick:e.handleEditAvatarClick,type:"button",className:"profile__image-button",children:Object(f.jsx)("img",{src:d,alt:"A photo of an edit button",className:"profile__image-overlay"})})]}),Object(f.jsxs)("div",{className:"profile__rows",children:[Object(f.jsxs)("div",{className:"profile__top-row",children:[Object(f.jsx)("h1",{className:"profile__title",children:n.name}),Object(f.jsx)("button",{onClick:e.handleEditProfileClick,type:"button",className:"profile__info-button",children:Object(f.jsx)("img",{src:d,id:"profile-button",alt:"A photo of an edit button",className:"profile__info-image"})})]}),Object(f.jsx)("h2",{className:"profile__subtitle",children:n.about})]}),Object(f.jsx)("button",{onClick:e.handleAddCardClick,type:"button",className:"profile__plus-button",id:"plus__button",children:Object(f.jsx)("img",{src:b,id:"plus-button",alt:"A photo of a plus button",className:"profile__plus-image"})})]}),Object(f.jsx)("section",{className:"post-container",children:t.map((function(t){return Object(f.jsx)(x,{card:t,onCardClick:e.onCardClick,onCardLike:e.handleCardLike,onCardDelete:e.handleDeleteBtnClick},t._id)}))})]})};var P=function(){return Object(f.jsx)("footer",{className:"footer",children:Object(f.jsx)("p",{className:"footer__copyright",children:"\xa9 ".concat((new Date).getFullYear()," Around The U.S.")})})};var B=function(e){return Object(f.jsxs)("div",{className:"popup ".concat(e.isOpen&&"popup_opened"),id:"".concat(e.id,"__popup"),children:[Object(f.jsx)("button",{onClick:e.onClose,type:"button",className:"popup__close-button",id:"close__form"}),Object(f.jsx)("div",{className:"popup__container",children:Object(f.jsxs)("form",{action:"#",className:"popup__form",name:"{props.name}-form",onSubmit:e.onSubmit,children:[Object(f.jsx)("h2",{className:"popup__form-heading",children:e.title}),e.children,Object(f.jsx)("button",{type:"submit",className:"popup__save-button",children:e.submitBtnTitle})]})})]})};var N=function(e){var t=o.a.useContext(g);o.a.useEffect((function(){s(t.name),p(t.about)}),[t,e.isOpen]);var n=o.a.useState(""),a=Object(c.a)(n,2),i=a[0],s=a[1],r=o.a.useState(""),l=Object(c.a)(r,2),u=l[0],p=l[1];return Object(f.jsxs)(B,{id:"edit-profile",title:"Edit profile",submitBtnTitle:"Save",onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:i,about:u})},isOpen:e.isOpen,onClose:e.onClose,children:[Object(f.jsx)("input",{onChange:function(e){s(e.target.value)},type:"text",name:"name",className:"popup__form-input",placeholder:"Name",id:"name",value:i||"",minLength:"2",maxLength:"40",required:!0}),Object(f.jsx)("span",{className:"popup__form-input-error",id:"name-error"}),Object(f.jsx)("input",{onChange:function(e){p(e.target.value)},type:"text",name:"about",className:"popup__form-input",placeholder:"About me",id:"about",value:u||"",minLength:"2",maxLength:"50",required:!0}),Object(f.jsx)("span",{className:"popup__form-input-error",id:"about-error"})]})};var w=function(e){var t=o.a.useRef(null);return o.a.useEffect((function(){t.current.value=""}),[e.isOpen]),Object(f.jsxs)(B,{id:"edit-profile-picture",title:"Change profile picture",submitBtnTitle:"Save",onSubmit:function(n){n.preventDefault(),e.onUpdateAvatar({avatar:t.current.value})},isOpen:e.isOpen,onClose:e.onClose,children:[Object(f.jsx)("input",{ref:t,type:"url",name:"avatar",className:"popup__form-input",placeholder:"Image link",id:"avatar",required:!0}),Object(f.jsx)("span",{className:"popup__form-input-error",id:"avatar-error"})]})};var E=function(e){var t=o.a.useState(""),n=Object(c.a)(t,2),a=n[0],i=n[1],s=o.a.useState(""),r=Object(c.a)(s,2),l=r[0],u=r[1];return o.a.useEffect((function(){i(""),u("")}),[e.isOpen]),Object(f.jsxs)(B,{id:"add-post",title:"New place",submitBtnTitle:"Create",onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:a,link:l})},isOpen:e.isOpen,onClose:e.onClose,children:[Object(f.jsx)("input",{onChange:function(e){i(e.target.value)},type:"text",name:"name",className:"popup__form-input",placeholder:"Title",id:"title",value:a||"",minLength:"2",maxLength:"30",required:!0}),Object(f.jsx)("span",{className:"popup__form-input-error",id:"title-error"}),Object(f.jsx)("input",{onChange:function(e){u(e.target.value)},type:"url",name:"link",className:"popup__form-input",placeholder:"Image link",id:"link",value:l||"",required:!0}),Object(f.jsx)("span",{className:"popup__form-input-error",id:"link-error"})]})};var _=function(e){return Object(f.jsx)("div",{className:"popup ".concat(e.isOpen&&"popup_opened"),id:"picture",children:Object(f.jsxs)("div",{className:"popup__grid",children:[Object(f.jsx)("button",{onClick:e.onClose,type:"button",className:"popup__close-button popup__close-button_type_image",id:"close__picture"}),Object(f.jsxs)("div",{className:"popup__holder",children:[Object(f.jsx)("img",{src:e.selectedCard.link,alt:'"A picture of " '.concat(e.selectedCard.name),className:"popup__image",id:"popup__image"}),Object(f.jsx)("p",{className:"popup__caption",children:e.selectedCard.name})]})]})})};var H=function(e){var t=o.a.useState(""),n=Object(c.a)(t,2),a=n[0],i=n[1],s=o.a.useState(""),r=Object(c.a)(s,2),l=r[0],u=r[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(A,{buttonTitle:"Sign up",buttonPath:"/register"}),Object(f.jsx)("div",{className:"auth__form-containter",children:Object(f.jsxs)("form",{action:"#",className:"auth__form",name:"login-form",onSubmit:function(t){t.preventDefault(),e.handleSignin({email:a,password:l})},children:[Object(f.jsx)("h1",{className:"auth__heading",children:"Log in"}),Object(f.jsx)("input",{className:"auth__input",onChange:function(e){i(e.target.value)},placeholder:"Email",value:a||"",type:"email",minLength:"2",maxLength:"40",required:!0}),Object(f.jsx)("input",{className:"auth__input",onChange:function(e){u(e.target.value)},placeholder:"Password",value:l||"",type:"password",minLength:"2",maxLength:"40",required:!0}),Object(f.jsx)("button",{type:"submit",className:"auth__submit-button",children:"Log in"}),Object(f.jsx)(p.b,{to:"/register",children:Object(f.jsx)("button",{type:"button",className:"auth__redirect-button",children:"Not a member yet? Sign up here!"})})]})})]})};var L=function(e){var t=o.a.useState(""),n=Object(c.a)(t,2),a=n[0],i=n[1],s=o.a.useState(""),r=Object(c.a)(s,2),l=r[0],u=r[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(A,{buttonTitle:"Log in",buttonPath:"/signin"}),Object(f.jsx)("div",{className:"auth__form-containter",children:Object(f.jsxs)("form",{action:"#",className:"auth__form",name:"login-form",onSubmit:function(t){t.preventDefault(),e.handleRegister({email:a,password:l})},children:[Object(f.jsx)("h1",{className:"auth__heading",children:"Sign up"}),Object(f.jsx)("input",{className:"auth__input",onChange:function(e){i(e.target.value)},placeholder:"Email",value:a||"",type:"email",required:!0}),Object(f.jsx)("input",{className:"auth__input",onChange:function(e){u(e.target.value)},placeholder:"Password",value:l||"",type:"password",minLength:"4",maxLength:"40",required:!0}),Object(f.jsx)("button",{type:"submit",className:"auth__submit-button",children:"Sign up"}),Object(f.jsx)(p.b,{to:"/signin",children:Object(f.jsx)("button",{type:"button",className:"auth__redirect-button",children:"Already a member? Log in here!"})})]})})]})},Q=n(16),F=n(22),T=["children","loggedIn"];var k=function(e){var t=e.children,n=e.loggedIn,a=Object(F.a)(e,T);return Object(f.jsx)(l.b,Object(Q.a)(Object(Q.a)({},a),{},{children:n?t:Object(f.jsx)(l.a,{to:"/signin"})}))},S=function(e,t){return fetch(e,t).then((function(e){return e.ok?e.json():Promise.reject(e)}))},D=new(function(){function e(t){var n=t.baseUrl;Object(j.a)(this,e),this._baseUrl=n}return Object(h.a)(e,[{key:"signup",value:function(e){return S("".concat(this._baseUrl,"/signup"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}},{key:"signin",value:function(e){return S("".concat(this._baseUrl,"/signin"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}},{key:"getUserInfo",value:function(e){return S("".concat(this._baseUrl,"/users/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})}}]),e}())({baseUrl:"https://api.iliyaa7.students.nomoreparties.sbs"}),X=n.p+"static/media/failed-image.ba3097ce.jpg";var U=function(e){return Object(f.jsx)("div",{className:"popup ".concat(e.isOpen&&"popup_opened"),id:"picture",children:Object(f.jsxs)("div",{className:"popup__grid",children:[Object(f.jsx)("button",{onClick:e.onClose,type:"button",className:"popup__close-button popup__close-button_type_image",id:"close__picture"}),Object(f.jsxs)("div",{className:"popup__holder popup__holder_type_tool-tip",children:[Object(f.jsx)("img",{src:e.response?"data:image/jpeg;base64,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":X,alt:"Succes icon",className:"popup__image popup__image_type_tool-tip",id:"popup__image"}),Object(f.jsx)("p",{className:"popup__caption popup__caption_type_tool-tip",children:e.response?"Success! You have now been registered.":"Oops, something went wrong! Please try again."})]})]})})};var J=function(){var e=o.a.useState(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],i=o.a.useState(!1),s=Object(c.a)(i,2),u=s[0],p=s[1],d=o.a.useState(!1),b=Object(c.a)(d,2),j=b[0],h=b[1],m=o.a.useState(!1),x=Object(c.a)(m,2),Q=x[0],F=x[1],T=o.a.useState(!1),S=Object(c.a)(T,2),X=S[0],J=S[1],W=o.a.useState(!1),y=Object(c.a)(W,2),I=y[0],q=y[1],z=o.a.useState({}),G=Object(c.a)(z,2),V=G[0],R=G[1],Z=o.a.useState({}),K=Object(c.a)(Z,2),M=K[0],Y=K[1],$=o.a.useState({}),ee=Object(c.a)($,2),te=ee[0],ne=ee[1],ae=o.a.useState([]),oe=Object(c.a)(ae,2),ie=oe[0],se=oe[1],re=o.a.useState(!1),ce=Object(c.a)(re,2),le=ce[0],ue=ce[1],pe=o.a.useState(!1),fe=Object(c.a)(pe,2),Ae=fe[0],de=fe[1],be=o.a.useState(""),je=Object(c.a)(be,2),he=je[0],me=je[1],ve=Object(l.g)(),ge=n||u||j||Q||X||I;function xe(){a(!1),p(!1),h(!1),J(!1),q(!1)}return o.a.useEffect((function(){v.getCards(localStorage.getItem("token")).then((function(e){se(e)})).catch((function(e){console.log(e)}))}),[]),o.a.useEffect((function(){D.getUserInfo(localStorage.getItem("token")).then((function(e){Y(e),me(e.email),ue(!0)})).catch((function(e){console.log(e)}))}),[]),o.a.useEffect((function(){var e=function(e){"Escape"===e.key&&xe()};return ge&&document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[ge]),o.a.useEffect((function(){var e=function(e){e.target.classList.contains("popup_opened")&&xe()};return ge&&document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}}),[ge]),Object(f.jsxs)("div",{className:"body",children:[Object(f.jsx)(U,{isOpen:I,onClose:xe,response:Ae}),Object(f.jsxs)(g.Provider,{value:M,children:[Object(f.jsx)(w,{isOpen:n,onClose:xe,onUpdateAvatar:function(e){v.editAvatar(e,localStorage.getItem("token")).then((function(e){Y(e),a(!1)})).catch((function(e){console.log(e)}))}}),Object(f.jsx)(N,{isOpen:u,onClose:xe,onUpdateUser:function(e){v.editUserInfo(e,localStorage.getItem("token")).then((function(e){Y(e),p(!1)})).catch((function(e){console.log(e)}))}}),Object(f.jsx)(E,{isOpen:j,onClose:xe,onUpdateUser:function(e){v.addPostCard(e,localStorage.getItem("token")).then((function(e){se([e].concat(Object(r.a)(ie))),h(!1)})).catch((function(e){console.log(e)}))}}),Object(f.jsx)(B,{id:"delete-post",title:"Are you sure?",submitBtnTitle:"Yes",isOpen:Q,onClose:function(){F(!1),ne({})},onSubmit:function(e){e.preventDefault(),v.deleteCard(te,localStorage.getItem("token")).then((function(){var e=ie.filter((function(e){return e._id!==te}));se(e),F(!1),ne({})})).catch((function(e){console.log(e)}))}}),Object(f.jsx)(_,{isOpen:X,selectedCard:V,onClose:xe}),Object(f.jsx)("div",{className:"page",children:Object(f.jsxs)(l.d,{children:[Object(f.jsx)(l.b,{path:"/signin",children:le?Object(f.jsx)(l.a,{to:"/"}):Object(f.jsx)(H,{handleSignin:function(e){D.signin(e).then((function(e){localStorage.setItem("token",e.token)})).then((function(){return D.getUserInfo(localStorage.getItem("token"))})).then((function(e){Y(e),me(e.email),ue(!0)})).catch((function(e){console.log(e),(400===e||401===e)&&console.log(e),de(!1),q(!0)}))}})}),Object(f.jsx)(l.b,{path:"/register",children:le?Object(f.jsx)(l.a,{to:"/"}):Object(f.jsx)(L,{handleRegister:function(e){D.signup(e).then((function(){de(!0),ve.push({pathname:"/signin"})})).catch((function(e){console.log(e),de(!1)})).finally((function(){q(!0)}))}})}),Object(f.jsxs)(k,{path:"/",loggedIn:le,children:[Object(f.jsx)(A,{userEmail:he,isLoggedIn:le,handleLogOut:function(){localStorage.removeItem("token"),ue(!1)}}),Object(f.jsx)(O.Provider,{value:ie,children:Object(f.jsx)(C,{handleEditAvatarClick:function(){a(!0)},handleEditProfileClick:function(){p(!0)},handleAddCardClick:function(){h(!0)},handleDeleteBtnClick:function(e){F(!0),ne(e)},onCardClick:function(e){R(e),J(!0)},handleCardLike:function(e){var t=e.likes.some((function(e){return e===M._id}));v.changeLikeCardStatus(e._id,t,localStorage.getItem("token")).then((function(t){se((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){console.log(e)}))}})}),Object(f.jsx)(P,{})]})]})})]})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),o(e),i(e),s(e)}))};s.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(p.a,{children:Object(f.jsx)(J,{})})}),document.getElementById("root")),W()}},[[36,1,2]]]);
//# sourceMappingURL=main.41787d65.chunk.js.map