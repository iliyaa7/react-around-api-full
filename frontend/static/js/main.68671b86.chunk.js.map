{"version":3,"sources":["images/Logo.svg","components/Header.js","images/batton-prof_edit.svg","images/batton-plus.svg","utils/api.js","contexts/CurrentUserContext.js","components/Card.js","contexts/CardsContext.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/auth.js","images/failed-image.jpg","components/InfoTooltip.js","images/success-image.jpg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logoPath","id","alt","isLoggedIn","userEmail","onClick","handleLogOut","buttonTitle","to","buttonPath","type","fetchFunction","url","headers","fetch","then","res","ok","json","Promise","reject","api","baseUrl","this","_baseUrl","token","authorization","data","method","body","JSON","stringify","cardId","isLiked","CurrentUserContext","React","createContext","Card","user","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","onCardDelete","onCardClick","link","name","onCardLike","length","CardsContext","Main","cards","avatar","handleEditAvatarClick","editProfileBtnPath","handleEditProfileClick","about","handleAddCardClick","editPlusBtnPath","map","handleCardLike","handleDeleteBtnClick","Footer","Date","getFullYear","PopupWithForm","isOpen","onClose","action","onSubmit","title","children","submitBtnTitle","EditProfilePopup","currentUser","useEffect","setName","setAbout","useState","e","preventDefault","onUpdateUser","onChange","target","value","placeholder","minLength","maxLength","required","EditAvatarPopup","linkRef","useRef","current","onUpdateAvatar","ref","AddPostPopup","setTitle","setUrl","ImagePopup","selectedCard","Login","email","setEmail","password","setPassword","handleSignin","Register","handleRegister","ProtectedRoute","loggedIn","auth","InfoTooltip","response","failedPath","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPostPopupOpen","setIsAddPostPopupOpen","isDeletePostPopupOpen","setIsDeletePostPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isInfoToolOpen","setIsInfoToolOpen","setSelectedCard","setCurrentUser","cardToDelete","setCardToDelete","setCards","setIsLoggedIn","isResponseSuccessfull","setIsResponseSuccessfull","setUserEmail","history","useHistory","closeAllPopups","getCards","localStorage","getItem","catch","err","console","log","getUserInfo","closeByEscape","key","document","addEventListener","removeEventListener","closeByOverlayClick","classList","contains","Provider","editAvatar","editUserInfo","addPostCard","newCard","evt","deleteCard","newCards","filter","path","signin","setItem","signup","push","pathname","finally","removeItem","newSelctedCard","changeLikeCardStatus","state","c","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.68671b86.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Logo.c7581985.svg\";","import React from \"react\";\nimport logoPath from \"../images/Logo.svg\";\nimport {Link} from \"react-router-dom\";\n\nfunction Header(props) {\n  return (\n    <header className=\"header\">\n      <img src={logoPath} id=\"logo-image\" alt=\"Our logo\" className=\"header__logo\"/>\n      { props.isLoggedIn && <p className=\"header__user-email\">{props.userEmail}</p> }\n      { props.isLoggedIn && <button onClick={props.handleLogOut} className=\"header__button header__button_logged-in\">Log out</button> }\n      { props.buttonTitle && <Link to={props.buttonPath}><button type=\"button\" className=\"header__button\">{props.buttonTitle}</button></Link>\n       }\n    </header>\n  );\n}\n\nexport default Header;\n","export default __webpack_public_path__ + \"static/media/batton-prof_edit.6c7bf054.svg\";","export default __webpack_public_path__ + \"static/media/batton-plus.bed8c136.svg\";","const fetchFunction = (url, headers) => {\n  return fetch(url, headers)\n    .then(res => res.ok ? res.json() : Promise.reject(res))\n\n}\n\n\nclass Api {\n  constructor({ baseUrl }) {\n    this._baseUrl = baseUrl;\n  }\n\n  getUserInfo(token) {\n    return fetchFunction(`${this._baseUrl}/users/me`, {\n      headers: {\n      authorization: `Bearer ${ token }`,\n      \"Content-Type\": \"application/json\",\n    },\n    });\n  }\n\n  getCards(token) {\n    return fetchFunction(`${this._baseUrl}/cards`, {\n      headers: {\n      authorization: `Bearer ${ token }`,\n      \"Content-Type\": \"application/json\",\n    },\n    });\n  }\n\n  editUserInfo(data, token) {\n    return fetchFunction(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n      authorization: `Bearer ${ token }`,\n      \"Content-Type\": \"application/json\",\n    },\n      body: JSON.stringify(data)\n    });\n  }\n\n  addPostCard(data, token) {\n    return fetchFunction(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: {\n      authorization: `Bearer ${ token }`,\n      \"Content-Type\": \"application/json\",\n    },\n      body: JSON.stringify(data)\n    });\n  }\n\n  changeLikeCardStatus(cardId, isLiked, token) {\n    if (isLiked) {\n      return fetchFunction(`${this._baseUrl}/cards/${cardId}/likes`, {\n        method: \"DELETE\",\n        headers: {\n      authorization: `Bearer ${ token }`,\n      \"Content-Type\": \"application/json\",\n    },\n      });\n    }\n    return fetchFunction(`${this._baseUrl}/cards/${cardId}/likes`, {\n      method: \"PUT\",\n      headers: {\n      authorization: `Bearer ${ token }`,\n      \"Content-Type\": \"application/json\",\n    },\n    });\n  }\n\n  deleteCard(cardId, token) {\n    return fetchFunction(`${this._baseUrl}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: {\n      authorization: `Bearer ${ token }`,\n      \"Content-Type\": \"application/json\",\n    },\n    });\n  }\n\n  editAvatar(data, token) {\n    return fetchFunction(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n      authorization: `Bearer ${ token }`,\n      \"Content-Type\": \"application/json\",\n    },\n      body: JSON.stringify(data)\n    });\n  }\n}\nconst api = new Api({\n  baseUrl: \"https://www.iliyaa7.students.nomoreparties.sbs\",\n});\n\nexport default api\n\n\n","import React from \"react\";\n\nconst CurrentUserContext = React.createContext();\nexport default  CurrentUserContext;\n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n\n  const user = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner === user._id;\n  const cardDeleteButtonClassName = (\n    `${isOwn ? 'post__delete-button' : 'post__delete-button post__delete-button_hiden'}`\n  );\n  const isLiked = props.card.likes.some(i => i === user._id);\n  const cardLikeButtonClassName = (\n    `${isLiked ? 'post__button post__button_active' : 'post__button'}`\n  );\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card._id);\n  }\n\n  return (\n    <div className=\"post\">\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick}/>\n      <button onClick={handleClick} className=\"post__image-button\" id=\"image__button\">\n        <img  src={props.card.link} alt={`A pic of ${props.card.name}`} className=\"post__image\" id=\"image__button-image\"/>\n      </button>\n      <div className=\"post__bottom-container\">\n        <h2 className=\"post__heading\">{props.card.name}</h2>\n        <div className=\"post__like-container\">\n          <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}/>\n          <p className=\"post__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n\n\n","import React from \"react\";\n\nconst CardsContext = React.createContext();\nexport default  CardsContext;\n","import React from \"react\";\nimport editProfileBtnPath from \"../images/batton-prof_edit.svg\"\nimport editPlusBtnPath from \"../images/batton-plus.svg\"\nimport {api} from \"../utils/api\";\nimport Card from \"./Card.js\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport CardsContext from \"../contexts/CardsContext\";\n\nfunction Main(props) {\n  const cards = React.useContext(CardsContext);\n  const user = React.useContext(CurrentUserContext);\n\n\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__images-container\">\n          <img src={user.avatar} id=\"profile-image\"  alt=\"Your profile photo\" className=\"profile__image\"/>\n          <button onClick={props.handleEditAvatarClick} type=\"button\" className=\"profile__image-button\">\n            <img src={editProfileBtnPath} alt=\"A photo of an edit button\" className=\"profile__image-overlay\"/>\n          </button>\n        </div>\n        <div className=\"profile__rows\">\n          <div className=\"profile__top-row\">\n            <h1 className=\"profile__title\">{user.name}</h1>\n            <button onClick={props.handleEditProfileClick} type=\"button\" className=\"profile__info-button\">\n              <img src={editProfileBtnPath} id=\"profile-button\" alt=\"A photo of an edit button\" className=\"profile__info-image\"/>\n            </button>\n          </div>\n          <h2 className=\"profile__subtitle\">{user.about}</h2>\n        </div>\n        <button onClick={props.handleAddCardClick} type=\"button\" className=\"profile__plus-button\" id=\"plus__button\">\n          <img src={editPlusBtnPath} id=\"plus-button\" alt=\"A photo of a plus button\" className=\"profile__plus-image\"/>\n        </button>\n      </section>\n\n      <section className=\"post-container\">\n        {cards.map(card => (\n          <Card key={card._id} card={card} onCardClick={props.onCardClick} onCardLike={props.handleCardLike} onCardDelete={props.handleDeleteBtnClick}/>\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n\n// server {\n\n//   server_name api.iliyaa7.students.nomoreparties.sbs;\n\n//   location / {\n//     proxy_pass http://localhost:3000;\n//     proxy_http_version 1.1;\n//     proxy_set_header Upgrade $http_upgrade;\n//     proxy_set_header Connection 'upgrade';\n//     proxy_set_header Host $host;\n//     proxy_cache_bypass $http_upgrade;\n//   }\n\n//     listen 443 ssl; # managed by Certbot\n//     ssl_certificate /etc/letsencrypt/live/iliyaa7.students.nomoreparties.sbs/fullchain.pem; # managed by Certbot\n//     ssl_certificate_key /etc/letsencrypt/live/iliyaa7.students.nomoreparties.sbs/privkey.pem; # managed by Certbot\n//     include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot\n//     ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot\n\n\n\n// }\n\n// server {\n\n//   server_name iliyaa7.students.nomoreparties.sbs www.iliyaa7.students.nomoreparties.sbs;\n\n//   root /home/iliyaa7/frontend;\n//   location / {\n//     try_files $uri $uri/ /index.html =404;\n//   }\n\n//     listen 443 ssl; # managed by Certbot\n//     ssl_certificate /etc/letsencrypt/live/iliyaa7.students.nomoreparties.sbs/fullchain.pem; # managed by Certbot\n//     ssl_certificate_key /etc/letsencrypt/live/iliyaa7.students.nomoreparties.sbs/privkey.pem; # managed by Certbot\n//     include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot\n//     ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot\n\n\n\n// }\n\n// server {\n//   if ($host = www.iliyaa7.students.nomoreparties.sbs) {\n//       return 301 https://$host$request_uri;\n//   } # managed by Certbot\n\n\n//   if ($host = iliyaa7.students.nomoreparties.sbs) {\n//       return 301 https://$host$request_uri;\n//   } # managed by Certbot\n\n\n// listen 80;\n\n// server_name iliyaa7.students.nomoreparties.sbs www.iliyaa7.students.nomoreparties.sbs;\n//   return 404; # managed by Certbot\n// }\n\n\n\n\n\n\n\n\n\n\n// server {\n\n//   server_name iliyaa7.students.nomoreparties.sbs www.iliyaa7.students.nomoreparties.sbs;\n\n//   root /home/iliyaa7/frontend;\n\n//   location /api/ {\n//     proxy_pass http://localhost:3000;\n//     proxy_http_version 1.1;\n//     proxy_set_header Upgrade $http_upgrade;\n//     proxy_set_header Connection 'upgrade';\n//     proxy_set_header Host $host;\n//     proxy_cache_bypass $http_upgrade;\n//   }\n\n//     listen 443 ssl; # managed by Certbot\n//     ssl_certificate /etc/letsencrypt/live/iliyaa7.students.nomoreparties.sbs/fullchain.pem; # managed by Certbot\n//     ssl_certificate_key /etc/letsencrypt/live/iliyaa7.students.nomoreparties.sbs/privkey.pem; # managed by Certbot\n//     include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot\n//     ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot\n\n\n\n// }\n\n// server {\n//   if ($host = www.iliyaa7.students.nomoreparties.sbs) {\n//       return 301 https://$host$request_uri;\n//   } # managed by Certbot\n\n\n//   if ($host = iliyaa7.students.nomoreparties.sbs) {\n//       return 301 https://$host$request_uri;\n//   } # managed by Certbot\n\n\n// listen 80;\n\n// server_name iliyaa7.students.nomoreparties.sbs www.iliyaa7.students.nomoreparties.sbs;\n//   return 404; # managed by Certbot\n// }","import React from \"react\";\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">{`Â© ${new Date().getFullYear()} Around The U.S.`}</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <div className={`popup ${props.isOpen && \"popup_opened\"}`} id={`${props.id}__popup`}>\n      <button onClick={props.onClose} type=\"button\" className=\"popup__close-button\" id=\"close__form\"/>\n      <div className=\"popup__container\">\n        <form action=\"#\" className=\"popup__form\" name={`{props.name}-form`} onSubmit={props.onSubmit}>\n          <h2 className=\"popup__form-heading\">{props.title}</h2>\n          {props.children}\n          <button type=\"submit\" className=\"popup__save-button\">{props.submitBtnTitle}</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setAbout(currentUser.about);\n  }, [currentUser, props.isOpen]);\n\n  const [name, setName] = React.useState('');\n\n  const [about, setAbout] = React.useState('');\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleAboutChange(e) {\n    setAbout(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name,\n      about,\n    });\n  }\n\n  return (\n    <PopupWithForm id=\"edit-profile\" title=\"Edit profile\" submitBtnTitle=\"Save\" onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} >\n      <input onChange={handleNameChange} type=\"text\" name=\"name\" className=\"popup__form-input\" placeholder=\"Name\" id=\"name\" value={name || \"\"} minLength=\"2\" maxLength=\"40\" required/>\n      <span className=\"popup__form-input-error\" id=\"name-error\"></span>\n      <input onChange={handleAboutChange} type=\"text\" name=\"about\" className=\"popup__form-input\" placeholder=\"About me\" id=\"about\" value={about || \"\"} minLength=\"2\" maxLength=\"50\" required/>\n      <span className=\"popup__form-input-error\" id=\"about-error\"></span>\n    </PopupWithForm >\n  );\n}\n\nexport default EditProfilePopup;\n\n\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup(props) {\n  const linkRef = React.useRef(null);\n\n  React.useEffect(() => {\n    linkRef.current.value = '';\n}, [props.isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateAvatar({\n      avatar: linkRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm id=\"edit-profile-picture\" title=\"Change profile picture\" submitBtnTitle=\"Save\" onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} >\n    <input ref={linkRef} type=\"url\" name=\"avatar\" className=\"popup__form-input\" placeholder=\"Image link\" id=\"avatar\"  required/>\n    <span className=\"popup__form-input-error\" id=\"avatar-error\"></span>\n  </PopupWithForm >\n  );\n}\n\nexport default EditAvatarPopup;\n\n\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction AddPostPopup(props) {\n  const [title, setTitle] = React.useState('');\n\n  const [url, setUrl] = React.useState('');\n\n  React.useEffect(() => {\n    setTitle('');\n    setUrl('');\n}, [props.isOpen]);\n\n  function handleTitleChange(e) {\n    setTitle(e.target.value);\n  }\n\n  function handleLinkChange(e) {\n    setUrl(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      name: title,\n      link: url\n    });\n\n  }\n\n  return (\n    <PopupWithForm id=\"add-post\" title=\"New place\" submitBtnTitle=\"Create\" onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} >\n      <input onChange={handleTitleChange} type=\"text\" name=\"name\" className=\"popup__form-input\" placeholder=\"Title\" id=\"title\" value={title || \"\"} minLength=\"2\" maxLength=\"30\" required/>\n      <span className=\"popup__form-input-error\" id=\"title-error\"></span>\n      <input onChange={handleLinkChange} type=\"url\" name=\"link\" className=\"popup__form-input\" placeholder=\"Image link\" id=\"link\" value={url || \"\"} required/>\n      <span className=\"popup__form-input-error\" id=\"link-error\"></span>\n    </PopupWithForm >\n  );\n}\n\nexport default AddPostPopup;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <div className={`popup ${props.isOpen && \"popup_opened\"}`} id=\"picture\">\n      <div className=\"popup__grid\">\n        <button onClick={props.onClose} type=\"button\" className=\"popup__close-button popup__close-button_type_image\" id=\"close__picture\"/>\n        <div className=\"popup__holder\">\n          <img src={props.selectedCard.link} alt={`\"A picture of \" ${props.selectedCard.name}`} className=\"popup__image\" id=\"popup__image\"/>\n          <p className=\"popup__caption\">{props.selectedCard.name}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport {Link} from \"react-router-dom\";\n\nfunction Login(props) {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleEmailCHange(e) {\n    setEmail(e.target.value)\n  }\n\n  function handlePasswordCHange(e) {\n    setPassword(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.handleSignin({\n      email,\n      password,\n    });\n  }\n  return (\n    <>\n      <Header buttonTitle=\"Sign up\" buttonPath=\"/register\"/>\n      <div className=\"auth__form-containter\">\n        <form action=\"#\" className=\"auth__form\" name=\"login-form\" onSubmit={ handleSubmit }>\n          <h1 className=\"auth__heading\">Log in</h1>\n          <input className=\"auth__input\" onChange={handleEmailCHange} placeholder=\"Email\" value={email || \"\"} type=\"email\" minLength=\"2\" maxLength=\"40\" required></input>\n          <input className=\"auth__input\" onChange={handlePasswordCHange} placeholder=\"Password\" value={password|| \"\"} type=\"password\" minLength=\"2\" maxLength=\"40\" required></input>\n          <button type=\"submit\" className=\"auth__submit-button\">Log in</button>\n          <Link to=\"/register\"><button type=\"button\" className=\"auth__redirect-button\">Not a member yet? Sign up here!</button></Link>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default Login;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport {Link} from \"react-router-dom\";\n\nfunction Register(props) {\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleEmailCHange(e) {\n    setEmail(e.target.value)\n  }\n\n  function handlePasswordCHange(e) {\n    setPassword(e.target.value)\n  }\n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.handleRegister({\n      email,\n      password,\n    });\n  }\n  return (\n    <>\n      <Header buttonTitle=\"Log in\" buttonPath=\"/signin\"/>\n      <div className=\"auth__form-containter\">\n        <form action=\"#\" className=\"auth__form\" name=\"login-form\" onSubmit={ handleSubmit }>\n          <h1 className=\"auth__heading\">Sign up</h1>\n          <input className=\"auth__input\" onChange={handleEmailCHange} placeholder=\"Email\" value={email || \"\"} type=\"email\" required></input>\n          <input className=\"auth__input\" onChange={handlePasswordCHange} placeholder=\"Password\" value={password|| \"\"} type=\"password\" minLength=\"4\" maxLength=\"40\" required></input>\n          <button type=\"submit\" className=\"auth__submit-button\">Sign up</button>\n          <Link to=\"/signin\"><button type=\"button\" className=\"auth__redirect-button\">Already a member? Log in here!</button></Link>\n        </form>\n      </div>\n    </>\n  );\n}\n\nexport default Register;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute({ children, loggedIn, ...props }) {\n  return (\n    <Route {...props}>\n      {loggedIn ? children : <Redirect to={\"/signin\"} />}\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;","const fetchFunction = (url, headers) => {\n  return fetch(url, headers)\n    .then(res => res.ok ? res.json() : Promise.reject(res))\n\n}\n\n\nclass Auth {\n  constructor({ baseUrl }) {\n    this._baseUrl = baseUrl;\n  }\n\n  signup(data) {\n    return fetchFunction(`${this._baseUrl}/signup`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(data)\n    });\n  }\n\n  signin(data) {\n    return fetchFunction(`${this._baseUrl}/signin`, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(data)\n    });\n  }\n\n  getUserInfo(token) {\n    return fetchFunction(`${this._baseUrl}/users/me`, {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\" : `Bearer ${token}`\n      }\n    });\n  }\n\n\n}\nconst auth = new Auth({\n  baseUrl: \"https://www.iliyaa7.students.nomoreparties.sbs\"\n});\n\nexport default auth\n\n\n","export default __webpack_public_path__ + \"static/media/failed-image.ba3097ce.jpg\";","import React from \"react\";\nimport successPath from '../images/success-image.jpg';\nimport failedPath from '../images/failed-image.jpg';\n\nfunction InfoTooltip(props) {\n  return (\n    <div className={`popup ${props.isOpen && \"popup_opened\"}`} id=\"picture\">\n      <div className=\"popup__grid\">\n        <button onClick={props.onClose} type=\"button\" className=\"popup__close-button popup__close-button_type_image\" id=\"close__picture\"/>\n        <div className=\"popup__holder popup__holder_type_tool-tip\">\n          <img src={props.response ? successPath : failedPath} alt=\"Succes icon\" className=\"popup__image popup__image_type_tool-tip\" id=\"popup__image\"/>\n          <p className=\"popup__caption popup__caption_type_tool-tip\">{props.response ? \"Success! You have now been registered.\" : \"Oops, something went wrong! Please try again.\"}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;","export default \"data:image/jpeg;base64,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\"","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport '../index.css';\nimport Header from \"./Header.js\"\nimport Main from \"./Main.js\"\nimport Footer from \"./Footer.js\"\nimport PopupWithForm from \"./PopupWithForm.js\"\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPostPopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport api  from '../utils/api';\nimport CardsContext from '../contexts/CardsContext';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute  from './ProtectedRoute';\nimport auth from '../utils/auth';\nimport { useHistory } from \"react-router\";\nimport InfoTooltip from './InfoTooltip';\n\n\n\n\n\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n\n  const [isAddPostPopupOpen, setIsAddPostPopupOpen] = React.useState(false);\n\n  const [isDeletePostPopupOpen, setIsDeletePostPopupOpen] = React.useState(false);\n\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n\n  const [isInfoToolOpen, setIsInfoToolOpen] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [cardToDelete, setCardToDelete] = React.useState({});\n\n  const [cards, setCards] = React.useState([]);\n\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n\n  const [isResponseSuccessfull, setIsResponseSuccessfull] = React.useState(false);\n\n  const [userEmail, setUserEmail] = React.useState('')\n\n  const history = useHistory();\n\n  const isOpen = isEditAvatarPopupOpen || isEditProfilePopupOpen || isAddPostPopupOpen\n  || isDeletePostPopupOpen || isImagePopupOpen ||isInfoToolOpen;\n\n  React.useEffect(() => {\n    api.getCards(localStorage.getItem('token')).then((res) => {\n      setCards(res);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }, [])\n\n  React.useEffect(() => {\n    auth.getUserInfo(localStorage.getItem('token')).then((res) => {\n      setCurrentUser(res);\n      setUserEmail(res.email);\n      setIsLoggedIn(true);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }, [])\n\n  React.useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    if (isOpen) {\n      document.addEventListener('keydown', closeByEscape)\n    }\n\n    return () => document.removeEventListener('keydown', closeByEscape)\n  }, [isOpen])\n\n  React.useEffect(() => {\n    const closeByOverlayClick = (e) => {\n      if (e.target.classList.contains('popup_opened')) {\n        closeAllPopups();\n      }\n    }\n    if (isOpen) {\n      document.addEventListener('click', closeByOverlayClick)\n    }\n\n    return () => document.removeEventListener('click', closeByOverlayClick)\n  }, [isOpen])\n\n\n\n  function handleRegister(data) {\n    auth.signup(data).then(() => {\n      setIsResponseSuccessfull(true);\n      history.push({pathname:  \"/signin\",})\n    })\n    .catch((err) => {\n      console.log(err);\n      setIsResponseSuccessfull(false);\n    })\n    .finally(() => {\n      setIsInfoToolOpen(true);\n    });\n  }\n\n  function handleSignin(data) {\n    auth.signin(data).then((res) => {\n      localStorage.setItem('token', res.token);\n    })\n    .then(() => {\n      return auth.getUserInfo(localStorage.getItem('token'))\n    })\n    .then((res) => {\n      setCurrentUser(res)\n      setUserEmail(res.email);\n      setIsLoggedIn(true);\n    })\n    .catch((err) => {\n      console.log(err);\n      if (err === 400) {\n        console.log(err);\n      } else if (err === 401) {\n        console.log(err);\n      }\n      setIsResponseSuccessfull(false);\n      setIsInfoToolOpen(true);\n    });\n  }\n\n\n\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddCardClick() {\n    setIsAddPostPopupOpen(true);\n  }\n\n  function handleDeleteBtnClick(cardId) {\n    setIsDeletePostPopupOpen(true);\n    setCardToDelete(cardId);\n  }\n\n  function handleCardClick(newSelctedCard) {\n    setSelectedCard(newSelctedCard);\n    setIsImagePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPostPopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsInfoToolOpen(false);\n  }\n\n  function closeDeletePopup() {\n    setIsDeletePostPopupOpen(false);\n    setCardToDelete({})\n  }\n\n  function handleDeleteCardSubmit(evt) {\n    evt.preventDefault();\n    api.deleteCard(cardToDelete, localStorage.getItem('token')).then(() => {\n      const newCards = cards.filter((card) => card._id !== cardToDelete);\n      setCards(newCards);\n      setIsDeletePostPopupOpen(false);\n      setCardToDelete({})\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleUpdateUser(data) {\n    api.editUserInfo(data, localStorage.getItem('token')).then((res) =>{\n      setCurrentUser(res);\n      setIsEditProfilePopupOpen(false);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleUpdateAvatar(data) {\n    api.editAvatar(data, localStorage.getItem('token')).then((res) =>{\n      setCurrentUser(res);\n      setIsEditAvatarPopupOpen(false);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleAddPost(data) {\n    api.addPostCard(data, localStorage.getItem('token')).then((newCard) =>{\n      setCards([newCard, ...cards]);\n      setIsAddPostPopupOpen(false);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n\n    api.changeLikeCardStatus(card._id, isLiked, localStorage.getItem('token')).then((newCard) => {\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }\n\n  function handleLogOut() {\n    localStorage.removeItem('token');\n    setIsLoggedIn(false);\n  }\n\n\n\n  return (\n    <div className=\"body\">\n      <InfoTooltip isOpen={isInfoToolOpen} onClose={closeAllPopups} response={isResponseSuccessfull}></InfoTooltip>\n        <CurrentUserContext.Provider value={currentUser}>\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}>\n        </EditAvatarPopup>\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}>\n        </EditProfilePopup>\n        <AddPostPopup isOpen={isAddPostPopupOpen} onClose={closeAllPopups} onUpdateUser={handleAddPost}>\n        </AddPostPopup>\n        <PopupWithForm id=\"delete-post\" title=\"Are you sure?\" submitBtnTitle=\"Yes\" isOpen={isDeletePostPopupOpen} onClose={closeDeletePopup} onSubmit={handleDeleteCardSubmit} >\n        </PopupWithForm >\n        <ImagePopup isOpen={isImagePopupOpen} selectedCard={selectedCard} onClose={closeAllPopups}/>\n        <div className=\"page\">\n          <Switch>\n            <Route path=\"/signin\">\n              {\n                isLoggedIn ? <Redirect to=\"/\" /> :\n                <Login handleSignin={handleSignin}/>\n              }\n            </Route>\n            <Route path=\"/register\">\n            {\n              isLoggedIn ? <Redirect to=\"/\" /> :\n              <Register handleRegister={handleRegister}/>\n            }\n            </Route>\n            <ProtectedRoute path=\"/\" loggedIn={isLoggedIn}>\n              <Header userEmail={userEmail} isLoggedIn={isLoggedIn} handleLogOut={handleLogOut}/>\n              <CardsContext.Provider value={cards}>\n                <Main\n                handleEditAvatarClick={handleEditAvatarClick}\n                handleEditProfileClick={handleEditProfileClick}\n                handleAddCardClick={handleAddCardClick}\n                handleDeleteBtnClick={handleDeleteBtnClick}\n                onCardClick={handleCardClick}\n                handleCardLike={handleCardLike}\n                />\n              </CardsContext.Provider>\n              <Footer/>\n            </ProtectedRoute>\n          </Switch>\n        </div>\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport {BrowserRouter} from 'react-router-dom'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}